{% extends 'base.html' %}

{% block title %}
Главная страница
{% endblock %}

{% block body %}
<div class="container-fluid mt-5">
    <div class="row">
        <div class="col-3">
            <h1>Выборка из бд</h1>
            <form method="post">
                <div class="input-group">
                    <span class="input-group-text">от</span><input type="datetime-local" name="time0" id="time0"
                                                                   class="form-control form-control-sm">
                    <span class="input-group-text">до</span><input type="datetime-local" name="time1" id="time1"
                                                                   class="form-control form-control-sm">
                </div>
                <br>
                <div class="input-group">
                    <span class="input-group-text">от</span><input type="text" name="source_id0" id="source_id0"
                                                                   placeholder="№ источника"
                                                                   class="form-control form-control-sm">
                    <span class="input-group-text">до</span><input type="text" name="source_id1" id="source_id1"
                                                                   placeholder="№ источника"
                                                                   class="form-control form-control-sm">
                </div>
                <br>
                <input type="text" name="priority" id="priority" placeholder="приоритет"
                       class="form-control form-control-sm"><br>
                <div class="input-group">
                    <span class="input-group-text">от</span><input type="text" name="weight0" id="weight0"
                                                                   placeholder="вес"
                                                                   class="form-control form-control-sm">
                    <span class="input-group-text">до</span><input type="text" name="weight1" id="weight1"
                                                                   placeholder="вес"
                                                                   class="form-control form-control-sm">
                </div>
                <br>
                <input type="text" name="keyword" id="keyword" placeholder="ключевое слово"
                       class="form-control form-control-sm"><br>
                <select name="lasttime" class="form-select form-select-sm" aria-label=".form-select-sm example">
                    <option selected value="0">За последнее время</option>
                    <option value="1">За последние 10 минут</option>
                    <option value="2">За последние 30 минут</option>
                    <option value="3">За последний час</option>
                    <option value="4">За последние сутки</option>
                    <option value="5">За последние 30 дней</option>
                </select><br>
                <input type="submit" class="btn btn-success" value="Отправить">
            </form>
        </div>
        <div class="col">
            <div class="table-responsive">
                <table class="table table-striped table-sm caption-top">
                    <caption>Количество строк: {{ result | length }}</caption>
                    <thead>
                    <tr>
                        <th scope="col">№</th>
                        <th scope="col">Дата и время</th>
                        <th scope="col">Источник</th>
                        <th scope="col">Приоритет</th>
                        <th scope="col">Имя</th>
                        <th scope="col">Вес</th>
                        <th scope="col">Данные</th>
                        <th scope="col" class="col-sm-5">Текст</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for el in result %}
                    <tr>
                        <td>{{ loop.index }}</td>
                        <td>{{ el[0] }}</td>
                        <td>{{ el[1] }}</td>
                        <td>{{ el[2] }}</td>
                        <td>{{ el[3] }}</td>
                        <td>{{ el[4] }}</td>
                        <td>{{ el[5] }}</td>
                        <td>{{ el[6] }}</td>
                        <td>{{ el[7] }}</td>
                    </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
{% endblock %}